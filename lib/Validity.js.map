{"version":3,"sources":["Validity.js"],"names":["cx","Validity","shouldComponentUpdate","nextProps","nextState","props","render","validity","isValid","message","getMessage","statefulClassName","addStates","valid","invalid","build","displayName","propTypes","instanceOf"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;AAUA,QAAMA,KAAK,uBAAO,UAAP,CAAX;;QAEqBC,Q;;;;;;;;2BAEjBC,qB,kCAAsBC,S,EAAWC,S,EAAW;AACxC,mBAAO,CAAC,+BAAa,KAAKC,KAAlB,EAAyBF,SAAzB,CAAR;AACH,S;;2BAEDG,M,qBAAS;AACL,gBAAMC,WAAW,KAAKF,KAAL,CAAWE,QAA5B;;AAEA,gBAAMC,UAAUD,WAAWA,SAASC,OAAT,EAAX,GAAgC,IAAhD;AACA,gBAAMC,UAAUF,WAAWA,SAASG,UAAT,EAAX,GAAmC,IAAnD;;AAEA,gBAAMC,oBAAoBX,GAAG,KAAKK,KAAR,EACrBO,SADqB,CACX;AACPC,uBAAOL,OADA;AAEPM,yBAAS,CAACN;AAFH,aADW,EAKrBO,KALqB,EAA1B;;AAOA,mBACI;AAAA;AAAA,kBAAK,WAAWJ,iBAAhB;AACKF;AADL,aADJ;AAKH,S;;;;;yBAxBgBR,Q;;;AA2BrBA,aAASe,WAAT,GAAuB,UAAvB;;AAEAf,aAASgB,SAAT,GAAqB;AACjBV,kBAAU,iBAAUW,UAAV;AADO,KAArB","file":"Validity.js","sourcesContent":["/**\n * @file melon/Validity\n * @author leon(ludafa@outlook.com)\n */\n\nimport React, {PropTypes, Component} from 'react';\nimport {create} from './classname/cxBuilder';\nimport V from './validator/Validity';\nimport shallowEqual from './util/shallowEqual';\n\nconst cx = create('Validity');\n\nexport default class Validity extends Component {\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return !shallowEqual(this.props, nextProps);\n    }\n\n    render() {\n        const validity = this.props.validity;\n\n        const isValid = validity ? validity.isValid() : true;\n        const message = validity ? validity.getMessage() : null;\n\n        const statefulClassName = cx(this.props)\n            .addStates({\n                valid: isValid,\n                invalid: !isValid\n            })\n            .build();\n\n        return (\n            <div className={statefulClassName}>\n                {message}\n            </div>\n        );\n    }\n}\n\nValidity.displayName = 'Validity';\n\nValidity.propTypes = {\n    validity: PropTypes.instanceOf(V)\n};\n"]}