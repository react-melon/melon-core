{"version":3,"sources":["Validity.js"],"names":["cx","Validity","nextProps","nextState","props","validity","isValid","message","getMessage","statefulClassName","addStates","valid","invalid","build","displayName","propTypes","instanceOf"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,QAAMA,KAAK,uBAAO,UAAP,CAAX;;QAEqBC,Q;;;;;;;;;;;kDAEKC,S,EAAWC,S,EAAW;AACxC,uBAAO,CAAC,4BAAa,KAAKC,KAAlB,EAAyBF,SAAzB,CAAR;AACH;;;qCAEQ;AACL,oBAAMG,WAAW,KAAKD,KAAL,CAAWC,QAA5B;;AAEA,oBAAMC,UAAUD,WAAWA,SAASC,OAAT,EAAX,GAAgC,IAAhD;AACA,oBAAMC,UAAUF,WAAWA,SAASG,UAAT,EAAX,GAAmC,IAAnD;;AAEA,oBAAMC,oBAAoBT,GAAG,KAAKI,KAAR,EACrBM,SADqB,CACX;AACPC,2BAAOL,OADA;AAEPM,6BAAS,CAACN;AAFH,iBADW,EAKrBO,KALqB,EAA1B;;AAOA,uBACI;AAAA;AAAA,sBAAK,WAAWJ,iBAAhB;AACKF;AADL,iBADJ;AAKH;;;;;;sBAxBgBN,Q;;;AA2BrBA,aAASa,WAAT,GAAuB,UAAvB;;AAEAb,aAASc,SAAT,GAAqB;AACjBV,kBAAU,oBAAUW,UAAV;AADO,KAArB","file":"Validity.js","sourcesContent":["/**\n * @file melon/Validity\n * @author leon(ludafa@outlook.com)\n */\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {create} from './classname/cxBuilder';\nimport V from './validator/Validity';\nimport shallowEqual from './util/shallowEqual';\n\nconst cx = create('Validity');\n\nexport default class Validity extends PureComponent {\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return !shallowEqual(this.props, nextProps);\n    }\n\n    render() {\n        const validity = this.props.validity;\n\n        const isValid = validity ? validity.isValid() : true;\n        const message = validity ? validity.getMessage() : null;\n\n        const statefulClassName = cx(this.props)\n            .addStates({\n                valid: isValid,\n                invalid: !isValid\n            })\n            .build();\n\n        return (\n            <div className={statefulClassName}>\n                {message}\n            </div>\n        );\n    }\n}\n\nValidity.displayName = 'Validity';\n\nValidity.propTypes = {\n    validity: PropTypes.instanceOf(V)\n};\n"]}